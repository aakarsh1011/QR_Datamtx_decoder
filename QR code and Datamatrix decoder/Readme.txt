The code is throwing no error but the the output frame is very slow.
The reason is the pylibdmtx library, if you comment out the datamatrix decoding part, it will run smoothly.
Why is it happening, is still unclear.
Kindly fork it if you can figure it out.